class a{activePanels=new Set;panelStack=[];duration=100;animateIn(t){return new Promise(s=>{if(document.documentElement.classList.contains("is-theme-transitioning")){t.classList.remove("float-panel-closed"),t.style.opacity="1",t.style.transform="scale(1) translateY(0)",s();return}t.classList.remove("float-panel-closed"),t.style.opacity="0",t.style.transform="scale(0.95) translateY(-10px)",t.style.pointerEvents="none",t.offsetHeight,t.style.transition=`all ${this.duration}ms ease-out`,requestAnimationFrame(()=>{t.style.opacity="1",t.style.transform="scale(1) translateY(0)",t.style.pointerEvents="auto",setTimeout(()=>{t.style.transition="",s()},this.duration)})})}animateOut(t){return new Promise(s=>{if(document.documentElement.classList.contains("is-theme-transitioning")){t.classList.add("float-panel-closed"),t.style.opacity="",t.style.transform="",s();return}t.style.transition=`all ${this.duration}ms ease-out`,t.style.pointerEvents="none",t.style.opacity="0",t.style.transform="scale(0.95) translateY(-10px)",setTimeout(()=>{t.classList.add("float-panel-closed"),t.style.transition="",t.style.opacity="",t.style.transform="",t.style.pointerEvents="",s()},this.duration)})}async togglePanel(t,s){const e=document.getElementById(t);if(!e)return console.warn(`Panel ${t} not found`),!1;const i=e.classList.contains("float-panel-closed");return(s!==void 0?s:i)?(await this.closeAllPanelsExcept(t),await this.animateIn(e),this.activePanels.add(t),this.panelStack=this.panelStack.filter(n=>n!==t),this.panelStack.push(t),!0):(await this.closePanel(t),!1)}async closePanel(t){const s=document.getElementById(t);s&&!s.classList.contains("float-panel-closed")&&(await this.animateOut(s),this.activePanels.delete(t),this.panelStack=this.panelStack.filter(e=>e!==t))}async closeAllPanelsExcept(t){const s=Array.from(this.activePanels).filter(e=>e!==t).map(e=>this.closePanel(e));await Promise.all(s)}}const o=new a;typeof window<"u"&&(window.panelManager=o);export{o as default,o as panelManager};
