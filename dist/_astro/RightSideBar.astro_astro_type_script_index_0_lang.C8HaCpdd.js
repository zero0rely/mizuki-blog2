import{s as r}from"./config.C6HpbU8S.js";const d={profile:"../components/widget/Profile.astro",announcement:"../components/widget/Announcement.astro",categories:"../components/widget/Categories.astro",tags:"../components/widget/Tags.astro",toc:"../components/widget/TOC.astro","music-player":"../components/widget/MusicPlayer.svelte",pio:"../components/widget/Pio.astro","site-stats":"../components/widget/SiteStats.astro",calendar:"../components/widget/Calendar.astro",custom:null};class l{config;enabledComponents;constructor(e=r){this.config=e,this.enabledComponents=this.getEnabledComponents()}getConfig(){return this.config}getEnabledComponents(){return this.config.components.filter(e=>e.enable).sort((e,n)=>e.order-n.order)}getComponentsByPosition(e,n){let t=this.enabledComponents.filter(o=>o.position===e);return n?t=t.filter(o=>(o.sidebar||"left")===n):this.config.position==="unilateral"||this.config.position,t}getAnimationDelay(e,n){return e.animationDelay!==void 0?e.animationDelay:this.config.defaultAnimation.enable?this.config.defaultAnimation.baseDelay+n*this.config.defaultAnimation.increment:0}getComponentClass(e,n){const t=[];return e.class&&t.push(e.class),this.config.position==="both"&&e.sidebar==="right"&&t.push("hidden","lg:block"),e.responsive?.hidden&&e.responsive.hidden.forEach(o=>{switch(o){case"mobile":t.push("hidden","md:block");break;case"tablet":t.push("md:hidden","lg:block");break;case"desktop":t.push("lg:hidden");break}}),t.join(" ")}getComponentStyle(e,n){const t=[];e.style&&t.push(e.style);const o=this.getAnimationDelay(e,n);return o>0&&t.push(`animation-delay: ${o}ms`),t.join("; ")}isCollapsed(e,n){return e.responsive?.collapseThreshold?n>=e.responsive.collapseThreshold:!1}getComponentPath(e){return d[e]}shouldShowSidebar(e){return this.config.responsive.layout[e]==="sidebar"}getBreakpoints(){return this.config.responsive.breakpoints}updateConfig(e){this.config={...this.config,...e},this.enabledComponents=this.getEnabledComponents()}addComponent(e){this.config.components.push(e),this.enabledComponents=this.getEnabledComponents()}removeComponent(e){this.config.components=this.config.components.filter(n=>n.type!==e),this.enabledComponents=this.getEnabledComponents()}toggleComponent(e,n){const t=this.config.components.find(o=>o.type===e);t&&(t.enable=n,this.enabledComponents=this.getEnabledComponents())}reorderComponent(e,n){const t=this.config.components.find(o=>o.type===e);t&&(t.order=n,this.enabledComponents=this.getEnabledComponents())}isSidebarComponent(e){return e!=="pio"}}const i=new l;class p{constructor(){this.init()}init(){this.updateResponsiveDisplay(),window.addEventListener("resize",()=>this.updateResponsiveDisplay()),typeof window<"u"&&window.swup&&window.swup.hooks.on("content:replace",()=>{setTimeout(()=>{this.updateResponsiveDisplay()},100)})}updateResponsiveDisplay(){const e=i.getBreakpoints(),n=window.innerWidth;let t;n<e.mobile?t="mobile":n<e.tablet?t="tablet":t="desktop";const o=i.shouldShowSidebar(t),s=document.getElementById("right-sidebar");s&&s.style.setProperty(`--sidebar-${t}-display`,o?"block":"none")}}new p;
