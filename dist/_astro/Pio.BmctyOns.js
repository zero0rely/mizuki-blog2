import{o as S,a as j,i as x,s as z,b as m}from"./lifecycle.BUKLqami.js";import{c as O,f as T,a as f,p as k,b as D,g as s,m as u,d as I,s as $,e as q,r as A,t as E,h}from"./utils.C6YlWNI1.js";import{i as F}from"./if.AUn_gUq8.js";import{b as v}from"./this.C6oz2rIz.js";import{p as e}from"./config.C6HpbU8S.js";/* empty css                        */var B=I('<div><div class="pio-action"></div> <canvas id="pio"></canvas></div>');function Q(P,g){D(g,!1);const w={mode:e.mode,hidden:e.hiddenOnMobile,content:e.dialog||{},model:e.models||["/pio/models/pio/model.json"]};let _=null,c=!1,r=u(),d=u();function l(){if(typeof window<"u"&&typeof Paul_Pio<"u")try{s(r)&&s(d)&&!c?(_=new Paul_Pio(w),c=!0,console.log("Pio initialized successfully (Svelte)")):(!s(r)||!s(d))&&(console.warn("Pio DOM elements not found, retrying..."),setTimeout(l,100))}catch(o){console.error("Pio initialization error:",o)}else setTimeout(l,100)}function b(){if(typeof window>"u")return;const o=(i,t)=>new Promise((n,M)=>{if(document.querySelector(`#${t}`)){n();return}const a=document.createElement("script");a.id=t,a.src=i,a.onload=n,a.onerror=M,document.head.appendChild(a)});o("/pio/static/l2d.js","pio-l2d-script").then(()=>o("/pio/static/pio.js","pio-main-script")).then(()=>{setTimeout(l,100)}).catch(i=>{console.error("Failed to load Pio scripts:",i)})}S(()=>{window.matchMedia("(max-width: 1280px)").matches||b()}),j(()=>{console.log("Pio Svelte component destroyed (keeping instance alive)")}),x();var p=O(),y=T(p);{var C=o=>{var i=B(),t=$(q(i),2);v(t,n=>h(d,n),()=>s(d)),A(i),v(i,n=>h(r,n),()=>s(r)),E(()=>{z(i,1,`pio-container ${e.position}`),m(t,"width",e.width),m(t,"height",e.height)}),f(o,i)};F(y,o=>{o(C)})}f(P,p),k()}export{Q as default};
