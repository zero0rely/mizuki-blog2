import{_ as d}from"./preload-helper.BlTxHScW.js";class a{static instance;isLoaded=!1;isLoading=!1;loadPromise=null;observers=new Set;constructor(){}static getInstance(){return a.instance||(a.instance=new a),a.instance}async loadIconify(t={}){const{timeout:o=1e4,retryCount:i=3,retryDelay:r=1e3}=t;if(this.isLoaded)return Promise.resolve();if(this.isLoading&&this.loadPromise)return this.loadPromise;this.isLoading=!0,this.loadPromise=this.loadWithRetry(o,i,r);try{await this.loadPromise,this.isLoaded=!0,this.notifyObservers()}catch(e){throw console.error("Failed to load Iconify after all retries:",e),e}finally{this.isLoading=!1}}async loadWithRetry(t,o,i){for(let r=1;r<=o;r++)try{await this.loadScript(t);return}catch(e){if(console.warn(`Iconify load attempt ${r} failed:`,e),r===o)throw new Error(`Failed to load Iconify after ${o} attempts`);await new Promise(s=>setTimeout(s,i))}}loadScript(t){return new Promise((o,i)=>{if(document.querySelector('script[src*="iconify-icon"]')&&this.isIconifyReady()){o();return}const e=document.createElement("script");e.src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js",e.async=!0,e.defer=!0;const s=setTimeout(()=>{e.remove(),i(new Error("Iconify script load timeout"))},t);e.onload=()=>{clearTimeout(s),this.waitForIconifyReady().then(o).catch(i)},e.onerror=()=>{clearTimeout(s),e.remove(),i(new Error("Failed to load Iconify script"))},document.head.appendChild(e)})}waitForIconifyReady(t=5e3){return new Promise((o,i)=>{const r=Date.now(),e=()=>{if(this.isIconifyReady()){o();return}if(Date.now()-r>t){i(new Error("Iconify initialization timeout"));return}setTimeout(e,100)};e()})}isIconifyReady(){return typeof window<"u"&&"customElements"in window&&customElements.get("iconify-icon")!==void 0}onLoad(t){this.isLoaded?t():this.observers.add(t)}offLoad(t){this.observers.delete(t)}notifyObservers(){this.observers.forEach(t=>{try{t()}catch(o){console.error("Error in icon load observer:",o)}}),this.observers.clear()}getLoadState(){return{isLoaded:this.isLoaded,isLoading:this.isLoading}}async preloadIcons(t){return this.isLoaded||await this.loadIconify(),new Promise(o=>{let i=0;const r=t.length;if(r===0){o();return}const e=()=>{i++,i>=r&&o()};t.forEach(s=>{const n=document.createElement("iconify-icon");n.setAttribute("icon",s),n.style.display="none",n.onload=e,n.onerror=e,document.body.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},1e3)}),setTimeout(()=>{o()},5e3)})}}const l=a.getInstance(),f=c=>l.loadIconify(c);d(()=>import("./right-sidebar-layout.vJPKW6ps.js"),[]);f().catch(c=>{console.error("Failed to load Iconify:",c)});
